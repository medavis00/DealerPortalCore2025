@page "/training-scheduler"
@rendermode InteractiveServer
@using MudBlazor

<h3>TrainingScheduler</h3>

Drop Down Calendar:
<RadzenDatePicker @bind-Value="selectedDate" ShowCalendarWeek="true" />



@* 
<p>Selected Date & Time: @selectedDate</p>


<p>Selected Date & Time: @selectedDateTime</p>


<h3>Welcome to MudBlazor DateTime Picker Example</h3>
 *@
@* 
<MudDatePicker @bind-Date="selectedDate" Label="Select Date" Format="yyyy-MM-dd" Variant="Variant.Filled" />

<MudTimePicker @bind-Time="selectedTime" Label="Select Time" Variant="Variant.Filled" />
 *@
<p>Selected Date & Time: @SelectedDateTime</p>



@* <RadzenScheduler TItem="TrainingSession"
                 Data="@TrainingSessions"
                 StartProperty="StartTime"
                 EndProperty="EndTime"
                 TextProperty="Title"
                 SelectedView="SchedulerView.Month"
                 SlotRender="@OnSlotRender"
@*                  AppointmentRender="@OnAppointmentRender"
                 AppointmentSelect="@OnAppointmentSelect" 
                 AllowCreate="true"
                 AllowEdit="true"
                 AllowDelete="true"
                 @bind-SelectedDate="@SelectedDate">
</RadzenScheduler>
 *@
@code {

    private DateTime selectedDateTime = DateTime.Now;

    // private DateTime? selectedDate = DateTime.Today;
    // private TimeSpan selectedTime = DateTime.Now.TimeOfDay;

    // private DateTime selectedDateTime => selectedDate.Date + selectedTime;
    //private DateTime selectedDate = DateTime.Now;


    private DateTime selectedDate = DateTime.Today;
    private TimeSpan selectedTime = DateTime.Now.TimeOfDay;

    private DateTime SelectedDateTime => selectedDate.Date + selectedTime;


    private void OnDateChanged(DateTime? newDate)
    {
        selectedDate = (DateTime)newDate;
        Console.WriteLine($"Date changed to: {selectedDate}");
    }


    // Define the model
    public class TrainingSession
    {
        public int Id { get; set; }
        public string Title { get; set; }
        public DateTime StartTime { get; set; }
        public DateTime EndTime { get; set; }
    }

    // Sample training session data
    private List<TrainingSession> TrainingSessions = new()
    {
        new TrainingSession { Id = 1, Title = "Agile Fundamentals", StartTime = DateTime.Today.AddHours(10), EndTime = DateTime.Today.AddHours(12) },
        new TrainingSession { Id = 2, Title = "Scrum Master Training", StartTime = DateTime.Today.AddDays(1).AddHours(9), EndTime = DateTime.Today.AddDays(1).AddHours(11) }
    };

    private DateTime SelectedDate = DateTime.Today;

    // Event Handlers (Customize as Needed)
    // private void OnSlotRender(SchedulerSlotRenderEventArgs args)
    // {
    //     // Customize time slots if needed
    // }

    // private void OnAppointmentRender(SchedulerAppointmentRenderEventArgs args)
    // {
    //     // Customize how events are displayed
    // }

    // private void OnAppointmentSelect(SchedulerAppointmentSelectEventArgs args)
    // {
    //     var selectedEvent = (TrainingSession)args.Appointment;
    //     Console.WriteLine($"Selected: {selectedEvent.Title}");
    // }
}
